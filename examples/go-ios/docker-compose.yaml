# go-ios with mobile-docker-extension
# See README.md for usage instructions

services:
  go-ios:
    build: .
    volumes:
      # Bind mount the usbmuxd socket directly to the expected location
      - /run/guest-services/aluedeke_mobile-docker-extension/usbmuxd.sock:/var/run/usbmuxd
    environment:
      # Connect to go-ios tunnel API on host (for iOS 17.4+)
      - GO_IOS_AGENT_HOST=host.docker.internal
      - GO_IOS_AGENT_PORT=60105
